{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-10-03 20:15:23.844721",
 "css": ".odd {\r\n   background: #f6f6f6;\r\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Quotation",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "\r\n {% set quotation = doc.name %}\r\n <div class=\"letter-head\" style=\"\">\r\n    \t{{ frappe.render_template(frappe.db.get_value(\"Letter Head\",\"SABA Default\", \"content\"), {\"doc\": doc}) }}\r\n    </div>\r\n  <h1 style=\"margin-bottom:0;\">Quotation</h1>\r\n <div>{{quotation}}</div>\r\n\r\n <div style=\"border-top:1px solid black; padding-bottom:6px;\"></div>\r\n <div class=\"row section-break\" data-label=\"\">\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t<div class=\"row important data-field\" data-fieldname=\"customer_name\" data-fieldtype=\"Data\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t<label>Customer Name: </label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7 value\" id=\"customer\">\r\n\t\t\t\t\t{{doc.customer_name}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"transaction_date\" data-fieldtype=\"Date\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t<label>Date: </label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7 value\">\r\n\t\t\t\t\t{{doc.transaction_date}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"valid_till\" data-fieldtype=\"Date\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t<label>Valid Till: </label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7 value\">\r\n\t\t\t\t\t{{doc.valid_till}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t</div>\r\n<div class=\"row section-break\" data-label=\"Address and Contact\">\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"address_display\" data-fieldtype=\"Small Text\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t<label>Address: </label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7\r\n\t value\">{{doc.address_display}}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t</div>\r\n\t</div>\r\n <hr>\r\n <table class=\"table table-sm\">\r\n    <thead>\r\n        <tr>\r\n            \r\n        <!--<th scope=\"col\">Sr</th>-->\r\n        <th scope=\"col\">Item Code</th> \r\n        <th scope=\"col\">Description</th>\r\n        <th scope=\"col\">Quantity</th>\r\n        <th scope=\"col\">Rate</th>\r\n        <th scope=\"col\">Amount</th>\r\n        \r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        {% set items1 = frappe.get_all('Quotation Item', filters={'parent': quotation}, fields=['idx','item_code', 'description','count(qty) as count' ,'sum(qty) as sumq','sum(rate) as sum_rate','section_title','amount','sum(amount) as amounts'],group_by='section_title', order_by='idx asc') %}\r\n\r\n\r\n\r\n        {% set items2 = frappe.get_all('Quotation Item', filters={'parent': quotation}, fields=['idx','item_code', 'description','qty' ,'section_title','rate','amount'], order_by='idx asc') %}\r\n        \r\n        {% set items0 = frappe.get_all('Quotation Item', filters={'parent': quotation}, fields=['idx','section_title'],group_by='section_title', order_by='section_title asc') %}\r\n        {% set section_titles = [] %}\r\n        \r\n        {%- for item in items0  if item.section_title not in section_titles -%}\r\n            {{ section_titles.append(item.section_title) or \"\" }}\r\n        {%- endfor -%}\r\n\r\n        {%- for section in section_titles   -%}\r\n            {% set outerloop = loop.index %}\r\n\r\n            {% set color ='#'+range(1, 9)|random|string +range(1, 9)|random|string +range(1, 9)|random|string +range(1, 9)|random|string +range(1, 9)|random|string +range(1, 9)|random|string +40|string %}\r\n                \r\n                {%- for item in items1 if item.section_title == section  -%}\r\n                    {%- if section -%}\r\n                    <tr class=\"styleme{{outerloop}}\" style=\"background:#d1cccf;color: #002956; text-align: center;\">\r\n                        <td colspan=\"5\" style=\"color: #002956; \"> {{section or '' }}</td>\r\n\r\n                    </tr>\r\n                     {%- endif -%}\r\n                {%- endfor -%}\r\n                \r\n                {%- for item in doc.items  if item.section_title == section -%}\r\n                     <tr class=\"styleme{{outerloop}}\" >\r\n                        <td>{{ item.item_code }}</td>\r\n                        <td>{{ item.description }}</td>\r\n                        <td>{{ item.qty }}</td>\r\n                        <td> {{item.get_formatted('rate', doc) }}</td>\r\n                        <td> {{item.get_formatted('amount', doc) }}</td> \r\n                        \r\n                    </tr>\r\n                {%- endfor -%}\r\n                {%- for item in items1 if item.section_title == section  -%}\r\n                    <tr class=\"styleme{{outerloop}}\" style=\"background:#022856;color: white;text-align: right;\">\r\n                        <!--<td colspan=\"1\"> {{section }}</td>-->\r\n                        <!--<td>Count: {{ item.count }}</td>-->\r\n                        <!--<td > {{ item.sumq }}</td>-->\r\n                        <!--<td colspan=\"1\"> {{ item.sum_rate }}</td>-->\r\n                        <td colspan=\"5\" style=\"color: #ff9800; \">{{doc.currency}} {{ frappe.format(item.amounts )}}  </td>\r\n    \r\n                    </tr>\r\n                {%- endfor -%}\r\n\r\n\r\n        {%- endfor -%}\r\n\r\n        \r\n\r\n        \r\n    </tbody>\r\n\r\n</table>\r\n\r\n\r\n\r\n\r\n<div class=\"row section-break\" data-label=\"\">\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"total_qty\" data-fieldtype=\"Float\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>Total Quantity: </label>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7\r\n\t\t\t\t\r\n\ttext-right value\">\r\n\t\t\t\t\t{{doc.total_qty}}\r\n\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t\r\n\t\t\t\t<div class=\"row\">\r\n\t\r\n\t\t<div class=\"col-xs-5\">\r\n\t\t\t<label>Total</label></div>\r\n\t\t<div class=\"col-xs-7 text-right\">\r\n\t\t\r\n\t\t\t{{doc.get_formatted(\"total\", doc) }}\r\n\t\t</div>\r\n\t\r\n</div>\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"net_total\" data-fieldtype=\"Currency\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>Net Total: </label>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7\r\n\t\t\t\t\r\n\ttext-right value\">\r\n\t\t\t\t\t\r\n\t \r\n\t\t{{doc.get_formatted(\"net_total\", doc) }}\r\n\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\r\n\t</div>\r\n\t\r\n\t\r\n\t\r\n\t<div class=\"row section-break\" data-label=\"\">\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t<div class=\"col-xs-6 column-break\">\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"grand_total\" data-fieldtype=\"Currency\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>Grand Total: </label>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7\r\n\t\t\t\t\r\n\ttext-right value\">\r\n\t\t\t\t\t\r\n\t\t{{doc.get_formatted(\"grand_total\", doc) }}\r\n\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\r\n\t\t\t<div class=\"row  data-field\" data-fieldname=\"in_words\" data-fieldtype=\"Data\">\r\n\t\t\t\t<div class=\"col-xs-5\">\r\n\t\t\t\t\t\r\n\t\t\t\t\t<label>In Words: </label>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"col-xs-7\r\n\t\t\t\t\r\n\t value\">\r\n\t\t\t\t\t{{doc.in_words}}\r\n\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t\t\r\n\t\t\t</div>\r\n\t\t\r\n\t</div>\r\n\t\r\n\t<div class=\"row section-break\" data-label=\"\">\r\n\t<div class=\"col-xs-12 column-break\">\r\n\t\t{%- if doc.terms -%}\r\n\t\t<div class=\"  data-field\" data-fieldname=\"\" data-fieldtype=\"Small Text\">\r\n\t\t\t<div class=\"5\">\r\n\t\t\t\t<label>Term Details: </label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\" value\"> {{doc.terms}}</div>\r\n\t\t</div>\r\n\t\t{%- endif -%}\r\n\t</div>\r\n</div>\r\n\r\n\r\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2023-03-12 11:59:15.324095",
 "modified_by": "Administrator",
 "module": "Sabaintegration",
 "name": "Quotation with Sections",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}